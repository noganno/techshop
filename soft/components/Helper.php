<?php    namespace soft\components;    use backend\models\Region;    use common\models\Towns;    use Yii;    use yii\helpers\Html;    class   Helper extends \yii\base\Model    {        /**         * Ajax CRUD modali uchun footer qismi: create va update actionlar uchun         */        public function getModalFooter()        {            return Html::button(Yii::t('app', 'Yopish'), ['class' => 'btn btn-default pull-left', 'data-dismiss' => "modal"]) .                Html::button(Yii::t('app', 'Saqlash'), ['class' => 'btn btn-primary', 'type' => "submit"]);        }        /**         * Ajax CRUD modali uchun footer qismi: view action uchun         */        public function getViewFooter($id)        {            return Html::button(Yii::t('app', 'Yopish'), ['class' => 'btn btn-default pull-left', 'data-dismiss' => "modal"]) .                Html::a(Yii::t('app', 'Tahrirlash'), ['update', 'id' => $id], ['class' => 'btn btn-primary', 'role' => 'modal-remote']);        }        /**         * Get dollar course from CBU         */        public function getDollarCourse()        {            $session = Yii::$app->session;            if ($session->has('_dollarCourse')) {                return $session->get('_dollarCourse');            }            $url = 'https://cbu.uz/oz/arkhiv-kursov-valyut/json/USD/';            $curl = curl_init();            curl_setopt($curl, CURLOPT_POST, 1);            curl_setopt($curl, CURLOPT_URL, $url);            curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);            $result = curl_exec($curl);            curl_close($curl);            $curs = json_decode($result);            $dollarCourse = $curs[0]->Rate;            $session->set("_dollarCourse", $dollarCourse);            return $dollarCourse;        }        /**         * Sayt tilini berilgan $languge ga o'zgartirish         * */        public function setLanguage($language = null)        {            if ($language == null || !key_exists($language, Yii::$app->params['languages'])) {                $language = Yii::$app->params['defaultLanguage'];            }            Yii::$app->language = $language;        }        public function clearPhoneNumber($phoneNumber = '')        {            $tel = trim($phoneNumber);            return strtr($tel, [" " => '', "+" => '', "(" => '', ")" => '', "-" => '',]);        }        public function Tab($tabName)        {            if (Yii::$app->session->get('activeTab') == $tabName) {                return true;            } else {                return false;            }        }        /**         * Get active Region         * */        public function getActiveRegion()        {            $session = Yii::$app->session;            if ($session->has('_activeRegion')) {                return $session->get('_activeRegion');            }            $region_id = Yii::$app->request->cookies->getValue('selectedRegionId', 2);            $region = Towns::find()->where(['id' => $region_id, 'status' => 1])->one();            if ($region == null) {                $region = Towns::find()->one();            }            $session->set('_activeRegion', $region);            return $region;        }        public function getCardSvg()        {            $svg = <<<HTML<?xml version="1.0" encoding="utf-8"?>                        <!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->                        <!DOCTYPE svg                            PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">                        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"                            xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px"                            height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24"                            xml:space="preserve">                            <g>                                <g>                                    <path fill="#FFFFFF"                                        d="M22.186,15.088c0.98,0,1.777-0.796,1.777-1.774v-6.3c0-0.979-0.797-1.775-1.777-1.775H6.025                                c-0.159-0.445-0.404-0.871-0.7-1.167l-3.81-3.81c-0.346-0.347-0.909-0.347-1.255,0c-0.346,0.347-0.346,0.909,0,1.255l3.81,3.809                                C4.248,5.504,4.437,5.96,4.437,6.213V17.75c0,0.979,0.796,1.775,1.775,1.775h0.395c-0.514,0.468-0.839,1.14-0.839,1.888                                c0,1.405,1.145,2.551,2.551,2.551c1.407,0,2.552-1.146,2.552-2.551c0-0.748-0.326-1.42-0.839-1.888h8.334                                c-0.515,0.468-0.84,1.14-0.84,1.888c0,1.405,1.146,2.551,2.552,2.551c1.407,0,2.551-1.146,2.551-2.551                                c0-0.748-0.324-1.42-0.838-1.888h1.282c0.49,0,0.889-0.396,0.889-0.886s-0.398-0.89-0.889-0.89H6.212v-2.662H22.186z M6.212,7.013                                h15.974l-0.002,6.3H6.212V7.013z M20.079,20.636c0.428,0,0.777,0.347,0.777,0.777c0,0.428-0.35,0.774-0.777,0.774                                s-0.777-0.347-0.777-0.774C19.302,20.982,19.651,20.636,20.079,20.636z M8.319,20.636c0.429,0,0.777,0.347,0.777,0.777                                c0,0.428-0.348,0.774-0.777,0.774c-0.428,0-0.776-0.347-0.776-0.774C7.543,20.982,7.892,20.636,8.319,20.636z" />                                </g>                            </g>                        </svg>HTML;            return $svg;        }        public function getBalanceSvg()        {            $svg = <<<HTML<?xml version="1.0" encoding="utf-8"?>                                        <!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->                                        <!DOCTYPE svg                                            PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">                                        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"                                            xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="23px"                                            height="20px" viewBox="0 0 23 20" enable-background="new 0 0 23 20"                                            xml:space="preserve">                                            <g transform="translate(0,-952.36218)">                                                <path fill="#777777" d="M11.493,952.362c-0.395,0.004-0.75,0.37-0.741,0.765v0.858c-0.864,0.577-1.75,0.89-2.747,0.89		c-1.121,0-2.315-0.15-3.589-0.648c-0.142-0.055-0.298-0.099-0.429-0.101c-0.282-0.006-0.551,0.193-0.663,0.452l-2.996,6.992		c-0.041,0.093-0.062,0.195-0.063,0.296c0,2.06,1.686,3.746,3.745,3.746c2.06,0,3.746-1.687,3.746-3.746		c0-0.102-0.021-0.203-0.063-0.296l-2.356-5.493c0.935,0.216,1.833,0.297,2.668,0.297c0.987,0,1.902-0.246,2.747-0.664v12.149H6.007		c-0.026-0.002-0.052-0.002-0.078,0c-0.365,0.038-0.673,0.381-0.671,0.748v2.996c0,0.393,0.357,0.75,0.749,0.75h10.985		c0.394,0,0.751-0.357,0.751-0.75v-2.996c0-0.393-0.357-0.748-0.751-0.748h-4.743v-12.149c0.845,0.418,1.761,0.664,2.747,0.664		c0.836,0,1.733-0.081,2.669-0.297l-2.356,5.493c-0.042,0.093-0.063,0.195-0.063,0.296c0,2.06,1.686,3.746,3.745,3.746		c2.059,0,3.744-1.687,3.744-3.746c0-0.102-0.021-0.203-0.062-0.296l-2.997-6.992c-0.111-0.259-0.381-0.458-0.662-0.452		c-0.13,0.002-0.288,0.046-0.429,0.101c-1.273,0.498-2.47,0.648-3.59,0.648c-0.997,0-1.884-0.313-2.747-0.89v-0.858		C12.258,952.726,11.893,952.357,11.493,952.362z M4.01,956.77l1.857,4.346H2.153L4.01,956.77z M18.991,956.77l1.856,4.346h-3.714		L18.991,956.77z M1.911,962.614h4.198c-0.303,0.874-1.115,1.499-2.099,1.499C3.026,964.113,2.214,963.488,1.911,962.614z		 M16.892,962.614h4.198c-0.303,0.874-1.114,1.499-2.099,1.499C18.008,964.113,17.194,963.488,16.892,962.614z M6.756,969.355h9.488		v1.498H6.756V969.355z" />                                            </g>                                        </svg>HTML;            return $svg;        }        function write_log($data)        {            $path = Yii::getAlias('@runtime/logs/logs.txt');            file_put_contents($path, "\n" . $_SERVER['REMOTE_ADDR'] . " | " . date("Y-m-d H:i:s", time()) . " | " . "\n" . print_r($data, true), FILE_APPEND);        }    }